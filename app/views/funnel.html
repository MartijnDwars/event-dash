<div id="funnelPage">
	<div class="page-header">
		<h1>Funnel</h1>
	</div>
	
	<form class="form-inline" name="funnelForm" ng-submit="funnelForm.$valid && funnel()" novalidate>
		<ol>
			<li ng-repeat="step in steps">
				<div class="form-group">
					<input class="form-control" ng-model="step.collection" required />
					<button type="button" class="btn" ng-click="addFilter(step)">Add filter</button>
				</div>
				<button type="button" class="close" aria-hidden="true" ng-click="deleteStep($index)">&times;</button>
				<ul>
					<li ng-repeat="filter in step.filters">
						<input class="form-control" ng-model="filter.key" required /> = <input class="form-control" ng-model="filter.value" required> <button type="button" class="close" aria-hidden="true" ng-click="deleteFilter(step, $index)">&times;</button>
					</li>
				</ul>
			</li>
		</ol>
		<button type="button" class="btn" ng-click="addStep()">Add step</button>
		<button type="submit" class="btn btn-primary">Submit</button>
	</form>

	<div class="page-header">
		<h2>Results</h2>
	</div>

	<highchart config="config"></highchart>
</div>